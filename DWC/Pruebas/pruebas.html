<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"> </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
        .Interes {
            height: 200px;
            width: 200px;
            margin:2px ;
        }

        #mapid{
            height: 40vh;
            width: 60vw;
        }
        #contenedor{
            width: 100%;
        }
    </style>
</head>

<body>
    <script>
        function CrearCard(lugar) {
            let nuevaCard = document.createElement("div")
            nuevaCard.className += ` Interes ${lugar.nombre}`
            nuevaCard.style.border = "blue 2px solid"
            nuevaCard.style.display = "inline-block"
            nuevaCard.innerHTML= `Latitud: ${lugar.latitud} <br>  Longitud: ${lugar.longitud} <br> <img src="Temp.png" height=40>: ${lugar.temperatura}`
            return nuevaCard
        }
    </script>
    <div id="mapid"  >

        <script>
            const contenedor = document.getElementById("contenedor")
            var map = L.map('mapid').setView([43.316893, -1.980888], 8);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);

            var lugares = [
                { "nombre": "Irun", "latitud": 43.3390, "longitud": -1.7896, "temperatura": "12ºC"},
                { "nombre": "Donosti", "latitud": 43.3183, "longitud": -1.9812, "temperatura": "21ºC"},
                { "nombre": "Renteria", "latitud": 43.3119, "longitud": -1.8985, "temperatura": "5ºC"},
                { "nombre": "Bilbao", "latitud": 43.266134, "longitud": -2.936054, "temperatura": "30ºC"}
            ];

            lugares.forEach(lugar => {
                var marker = L.marker([lugar.latitud, lugar.longitud]).addTo(map);
                marker.bindPopup(lugar.nombre);
                marker._icon.classList.add("huechange");
                marker.on("click", function () {
                    document.getElementById("contenedor").appendChild(CrearCard(lugar))
                })
                marker.bindTooltip(lugar.nombre, {
                    permanent: false,    // El tooltip no será permanente
                    direction: 'top',    // Se mostrará encima del marcador
                    offset: L.point(-15, -8) // Desplazamiento del tooltip respecto al marcador
                })
            })
        </script>
    </div>

    <div id="contenedor">
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus sapiente assumenda, ab optio dignissimos
            id commodi officia rem vitae officiis accusamus magnam dicta nesciunt unde rerum nihil consequuntur
            consectetur fuga.</p>
    </div>
</body>

</html>